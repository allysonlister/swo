echo "ODK Makefile version: v1.3.1 (this is the version of the ODK with which this Makefile was generated, \
        not the version of the ODK you are running)" &&\
echo "ROBOT version (ODK): " && robot --catalog catalog-v001.xml --version
ODK Makefile version: v1.3.1 (this is the version of the ODK with which this Makefile was generated,         not the version of the ODK you are running)
ROBOT version (ODK): 
ROBOT version 1.9.0
robot --catalog catalog-v001.xml verify  --catalog catalog-v001.xml -i swo-edit.owl --queries ../sparql/owldef-self-reference-violation.sparql ../sparql/iri-range-violation.sparql ../sparql/label-with-iri-violation.sparql -O reports
PASS Rule ../sparql/owldef-self-reference-violation.sparql: 0 violation(s)
PASS Rule ../sparql/iri-range-violation.sparql: 0 violation(s)
PASS Rule ../sparql/label-with-iri-violation.sparql: 0 violation(s)
robot --catalog catalog-v001.xml remove --input swo-edit.owl --select imports --trim false \
	merge   -i components/swo-external.owl -o tmp/merged-swo-edit.owl
robot --catalog catalog-v001.xml report -i tmp/merged-swo-edit.owl -l true  --fail-on None --base-iri http://www.ebi.ac.uk/swo/SWO_ --print 5 -o reports/swo-edit.owl-obo-report.tsv
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489270.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489269.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489271.

Violations: 408
-----------------
ERROR:      18
WARN:       350
INFO:       40

First 5 violations:
ERROR	duplicate_label	Dropbox	label	Dropbox
ERROR	duplicate_label	Absolute Expression Analysis	label	Absolute Expression Analysis
ERROR	duplicate_label	Absolute Expression Analysis	label	Absolute Expression Analysis
ERROR	misused_obsolete_label	obsolete object property	label	obsolete object property
ERROR	multiple_definitions	genemeta	definition	A collection of meta-analysis tools for analysing high throughput experimental data
if [ true  = true ] && [ true  = true ]; then curl -L http://purl.obolibrary.org/obo/bfo.owl --create-dirs -o mirror/bfo.owl --retry 4 --max-time 200 &&\
	robot --catalog catalog-v001.xml convert -i mirror/bfo.owl -o mirror-bfo.tmp.owl &&\
	mv mirror-bfo.tmp.owl tmp/mirror-bfo.owl; fi
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   352  100   352    0     0   1048      0 --:--:-- --:--:-- --:--:--  1050
100  154k  100  154k    0     0   217k      0 --:--:-- --:--:-- --:--:--  217k
if [ true  = true ] && [ true  = true ] && [ -f tmp/mirror-bfo.owl ]; then if cmp -s tmp/mirror-bfo.owl mirror/bfo.owl ; then echo "Mirror identical, ignoring."; else echo "Mirrors different, updating." &&\
	cp tmp/mirror-bfo.owl mirror/bfo.owl; fi; fi
Mirror identical, ignoring.
robot --catalog catalog-v001.xml query -f csv -i tmp/merged-swo-edit.owl --query ../sparql/terms.sparql tmp/pre_seed.txt.tmp &&\
cat tmp/pre_seed.txt.tmp | sort | uniq >  tmp/pre_seed.txt
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489270.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489269.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489271.

if [ true  = true ]; then cat tmp/pre_seed.txt  | sort | uniq > tmp/seed.txt; fi
if [ true  = true ]; then cat tmp/seed.txt imports/bfo_terms.txt | grep -v ^# | sort | uniq >  imports/bfo_terms_combined.txt; fi
if [ true  = true ]; then robot --catalog catalog-v001.xml query -i mirror/bfo.owl --update ../sparql/preprocess-module.ru \
	extract -T imports/bfo_terms_combined.txt --force true --copy-ontology-annotations true --individuals include --method BOT \
	query --update ../sparql/inject-subset-declaration.ru --update ../sparql/inject-synonymtype-declaration.ru --update ../sparql/postprocess-module.ru \
	annotate --ontology-iri http://purl.obolibrary.org/obo/swo/imports/bfo_import.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/imports/bfo_import.owl --annotation owl:versionInfo 2022-09-08 --output imports/bfo_import.owl.tmp.owl && mv imports/bfo_import.owl.tmp.owl imports/bfo_import.owl; fi
if [ true  = true ] && [ true  = true ]; then curl -L http://purl.obolibrary.org/obo/iao.owl --create-dirs -o mirror/iao.owl --retry 4 --max-time 200 &&\
	robot --catalog catalog-v001.xml convert -i mirror/iao.owl -o mirror-iao.tmp.owl &&\
	mv mirror-iao.tmp.owl tmp/mirror-iao.owl; fi
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   356  100   356    0     0   1287      0 --:--:-- --:--:-- --:--:--  1285100   356  100   356    0     0   1286      0 --:--:-- --:--:-- --:--:--  1285
100  547k  100  547k    0     0   778k      0 --:--:-- --:--:-- --:--:--  778k
if [ true  = true ] && [ true  = true ] && [ -f tmp/mirror-iao.owl ]; then if cmp -s tmp/mirror-iao.owl mirror/iao.owl ; then echo "Mirror identical, ignoring."; else echo "Mirrors different, updating." &&\
	cp tmp/mirror-iao.owl mirror/iao.owl; fi; fi
Mirror identical, ignoring.
if [ true  = true ]; then cat tmp/seed.txt imports/iao_terms.txt | grep -v ^# | sort | uniq >  imports/iao_terms_combined.txt; fi
if [ true  = true ]; then robot --catalog catalog-v001.xml query -i mirror/iao.owl --update ../sparql/preprocess-module.ru \
	extract -T imports/iao_terms_combined.txt --force true --copy-ontology-annotations true --individuals include --method BOT \
	query --update ../sparql/inject-subset-declaration.ru --update ../sparql/inject-synonymtype-declaration.ru --update ../sparql/postprocess-module.ru \
	annotate --ontology-iri http://purl.obolibrary.org/obo/swo/imports/iao_import.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/imports/iao_import.owl --annotation owl:versionInfo 2022-09-08 --output imports/iao_import.owl.tmp.owl && mv imports/iao_import.owl.tmp.owl imports/iao_import.owl; fi
if [ true  = true ] && [ true  = true ]; then curl -L http://purl.obolibrary.org/obo/obi.owl --create-dirs -o mirror/obi.owl --retry 4 --max-time 200 &&\
	robot --catalog catalog-v001.xml convert -i mirror/obi.owl -o mirror-obi.tmp.owl &&\
	mv mirror-obi.tmp.owl tmp/mirror-obi.owl; fi
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   339  100   339    0     0   1704      0 --:--:-- --:--:-- --:--:--  1712
 29 8537k   29 2495k    0     0  2574k      0  0:00:03 --:--:--  0:00:03 2574k100 8537k  100 8537k    0     0  4856k      0  0:00:01  0:00:01 --:--:-- 7668k
if [ true  = true ] && [ true  = true ] && [ -f tmp/mirror-obi.owl ]; then if cmp -s tmp/mirror-obi.owl mirror/obi.owl ; then echo "Mirror identical, ignoring."; else echo "Mirrors different, updating." &&\
	cp tmp/mirror-obi.owl mirror/obi.owl; fi; fi
Mirror identical, ignoring.
if [ true  = true ]; then cat tmp/seed.txt imports/obi_terms.txt | grep -v ^# | sort | uniq >  imports/obi_terms_combined.txt; fi
if [ true  = true ]; then robot --catalog catalog-v001.xml query -i mirror/obi.owl --update ../sparql/preprocess-module.ru \
	extract -T imports/obi_terms_combined.txt --force true --copy-ontology-annotations true --individuals include --method BOT \
	query --update ../sparql/inject-subset-declaration.ru --update ../sparql/inject-synonymtype-declaration.ru --update ../sparql/postprocess-module.ru \
	annotate --ontology-iri http://purl.obolibrary.org/obo/swo/imports/obi_import.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/imports/obi_import.owl --annotation owl:versionInfo 2022-09-08 --output imports/obi_import.owl.tmp.owl && mv imports/obi_import.owl.tmp.owl imports/obi_import.owl; fi
if [ true  = true ] && [ true  = true ]; then curl -L http://purl.obolibrary.org/obo/ro.owl --create-dirs -o mirror/ro.owl --retry 4 --max-time 200 &&\
	robot --catalog catalog-v001.xml convert -i mirror/ro.owl -o mirror-ro.tmp.owl &&\
	mv mirror-ro.tmp.owl tmp/mirror-ro.owl; fi
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0100   337  100   337    0     0    276      0  0:00:01  0:00:01 --:--:--   276
100  664k  100  664k    0     0   419k      0  0:00:01  0:00:01 --:--:--  419k
if [ true  = true ] && [ true  = true ] && [ -f tmp/mirror-ro.owl ]; then if cmp -s tmp/mirror-ro.owl mirror/ro.owl ; then echo "Mirror identical, ignoring."; else echo "Mirrors different, updating." &&\
	cp tmp/mirror-ro.owl mirror/ro.owl; fi; fi
Mirrors different, updating.
if [ true  = true ]; then cat tmp/seed.txt imports/ro_terms.txt | grep -v ^# | sort | uniq >  imports/ro_terms_combined.txt; fi
if [ true  = true ]; then robot --catalog catalog-v001.xml query -i mirror/ro.owl --update ../sparql/preprocess-module.ru \
	extract -T imports/ro_terms_combined.txt --force true --copy-ontology-annotations true --individuals include --method BOT \
	query --update ../sparql/inject-subset-declaration.ru --update ../sparql/inject-synonymtype-declaration.ru --update ../sparql/postprocess-module.ru \
	annotate --ontology-iri http://purl.obolibrary.org/obo/swo/imports/ro_import.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/imports/ro_import.owl --annotation owl:versionInfo 2022-09-08 --output imports/ro_import.owl.tmp.owl && mv imports/ro_import.owl.tmp.owl imports/ro_import.owl; fi
if [ true  = true ] && [ true  = true ]; then curl -L http://purl.obolibrary.org/obo/omo.owl --create-dirs -o mirror/omo.owl --retry 4 --max-time 200 &&\
	robot --catalog catalog-v001.xml convert -i mirror/omo.owl -o mirror-omo.tmp.owl &&\
	mv mirror-omo.tmp.owl tmp/mirror-omo.owl; fi
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   365  100   365    0     0   2041      0 --:--:-- --:--:-- --:--:--  2050
 82 79275   82 65536    0     0   113k      0 --:--:-- --:--:-- --:--:--  113k100 79275  100 79275    0     0   134k      0 --:--:-- --:--:-- --:--:-- 1219k
if [ true  = true ] && [ true  = true ] && [ -f tmp/mirror-omo.owl ]; then if cmp -s tmp/mirror-omo.owl mirror/omo.owl ; then echo "Mirror identical, ignoring."; else echo "Mirrors different, updating." &&\
	cp tmp/mirror-omo.owl mirror/omo.owl; fi; fi
Mirror identical, ignoring.
if [ true  = true ]; then cat tmp/seed.txt imports/omo_terms.txt | grep -v ^# | sort | uniq >  imports/omo_terms_combined.txt; fi
if [ true  = true ]; then robot --catalog catalog-v001.xml query -i mirror/omo.owl --update ../sparql/preprocess-module.ru \
	extract -T imports/omo_terms_combined.txt --force true --copy-ontology-annotations true --individuals include --method BOT \
	query --update ../sparql/inject-subset-declaration.ru --update ../sparql/inject-synonymtype-declaration.ru --update ../sparql/postprocess-module.ru \
	annotate --ontology-iri http://purl.obolibrary.org/obo/swo/imports/omo_import.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/imports/omo_import.owl --annotation owl:versionInfo 2022-09-08 --output imports/omo_import.owl.tmp.owl && mv imports/omo_import.owl.tmp.owl imports/omo_import.owl; fi
robot --catalog catalog-v001.xml merge --input swo-edit.owl \
	reason --reasoner ELK --equivalent-classes-allowed asserted-only --exclude-tautologies structural \
	relax \
	reduce -r ELK \
	 annotate --ontology-iri http://purl.obolibrary.org/obo/swo/swo-full.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-full.owl --annotation owl:versionInfo 2022-09-08 --output swo-full.owl.tmp.owl && mv swo-full.owl.tmp.owl swo-full.owl
robot --catalog catalog-v001.xml annotate --input swo-full.owl --ontology-iri http://purl.obolibrary.org/obo/swo.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo.owl --annotation owl:versionInfo 2022-09-08 \
	convert -o swo.owl.tmp.owl && mv swo.owl.tmp.owl swo.owl
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489158.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489157.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489156.

robot --catalog catalog-v001.xml merge -i swo.owl convert -f ofn -o tmp/validate.ofn
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489158.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489157.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489156.

robot --catalog catalog-v001.xml validate-profile --profile DL -i tmp/validate.ofn -o reports/validate_profile_owl2dl_swo.owl.txt || { cat reports/validate_profile_owl2dl_swo.owl.txt && exit 1; }
robot --catalog catalog-v001.xml reason --input swo-edit.owl --reasoner ELK  --equivalent-classes-allowed asserted-only \
                  --exclude-tautologies structural --output test.owl && rm test.owl &&\
  echo "Success"
Success
robot --catalog catalog-v001.xml annotate --input swo-full.owl --ontology-iri http://purl.obolibrary.org/obo/swo.json annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo.json --annotation owl:versionInfo 2022-09-08 \
	convert --check false -f json -o swo.json.tmp.json && \
jq -S 'walk(if type == "array" then sort else . end)' swo.json.tmp.json > swo.json && rm swo.json.tmp.json
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489158.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489157.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489156.

robot --catalog catalog-v001.xml remove --input swo-edit.owl --select imports --trim false \
	merge  -i components/swo-external.owl \
	  annotate --link-annotation http://purl.org/dc/elements/1.1/type http://purl.obolibrary.org/obo/IAO_8000001 \
	--ontology-iri http://purl.obolibrary.org/obo/swo/swo-base.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-base.owl --annotation owl:versionInfo 2022-09-08 \
	--output swo-base.owl.tmp.owl && mv swo-base.owl.tmp.owl swo-base.owl
robot --catalog catalog-v001.xml annotate --input swo-base.owl --ontology-iri http://purl.obolibrary.org/obo/swo/swo-base.json annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-base.json --annotation owl:versionInfo 2022-09-08 \
	convert --check false -f json -o swo-base.json.tmp.json &&\
jq -S 'walk(if type == "array" then sort else . end)' swo-base.json.tmp.json > swo-base.json && rm swo-base.json.tmp.json
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489270.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489269.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489271.

robot --catalog catalog-v001.xml annotate --input swo-full.owl --ontology-iri http://purl.obolibrary.org/obo/swo/swo-full.json annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-full.json --annotation owl:versionInfo 2022-09-08 \
	convert --check false -f json -o swo-full.json.tmp.json &&\
jq -S 'walk(if type == "array" then sort else . end)' swo-full.json.tmp.json > swo-full.json && rm swo-full.json.tmp.json
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489158.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489157.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489156.

robot --catalog catalog-v001.xml merge --input swo-edit.owl \
	 annotate --ontology-iri http://purl.obolibrary.org/obo/swo/swo-non-classified.owl annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-non-classified.owl --annotation owl:versionInfo 2022-09-08 --output swo-non-classified.owl.tmp.owl && mv swo-non-classified.owl.tmp.owl swo-non-classified.owl
robot --catalog catalog-v001.xml annotate --input swo-non-classified.owl --ontology-iri http://purl.obolibrary.org/obo/swo/swo-non-classified.json annotate -V http://purl.obolibrary.org/obo/swo/releases/2022-09-08/swo-non-classified.json --annotation owl:versionInfo 2022-09-08 \
	convert --check false -f json -o swo-non-classified.json.tmp.json &&\
jq -S 'walk(if type == "array" then sort else . end)' swo-non-classified.json.tmp.json > swo-non-classified.json && rm swo-non-classified.json.tmp.json
ERROR Input ontology contains 3 triple(s) that could not be parsed:
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489621.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000023> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489622.
 - <http://www.ebi.ac.uk/efo/swo/SWO_0000290> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> _:genid2147489623.

rsync -R   swo.json  swo.owl   swo-base.json  swo-base.owl   swo-full.json  swo-full.owl   swo-non-classified.json  swo-non-classified.owl   ../.. &&\
rm -f   swo.json  swo.owl   swo-base.json  swo-base.owl   swo-full.json  swo-full.owl   swo-non-classified.json  swo-non-classified.owl  tmp/merged-swo-edit.owl &&\
echo "Release files are now in ../.. - now you should commit, push and make a release \
        on your git hosting site such as GitHub or GitLab"
Release files are now in ../.. - now you should commit, push and make a release         on your git hosting site such as GitHub or GitLab
rm imports/bfo_terms_combined.txt imports/iao_terms_combined.txt imports/obi_terms_combined.txt imports/ro_terms_combined.txt imports/omo_terms_combined.txt
Please remember to update your ODK image from time to time: https://oboacademy.github.io/obook/howto/odk-update/.
